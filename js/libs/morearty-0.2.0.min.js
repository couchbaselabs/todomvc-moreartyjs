// Generated by uRequire v0.6.18 - template: 'combined' 
// Combined template optimized with RequireJS/r.js v2.1.14 & almond.
/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

(function(t,n){"use strict";var e=!("function"!=typeof define||!define.amd),r="object"==typeof exports,i=function(){var t,e,r;return function(n){function i(t,n){return _.call(t,n)}function u(t,n){var e,r,i,u,o,a,s,l,c,f,p,d=n&&n.split("/"),h=m.map,g=h&&h["*"]||{};if(t&&"."===t.charAt(0))if(n){for(d=d.slice(0,d.length-1),t=t.split("/"),o=t.length-1,m.nodeIdCompat&&V.test(t[o])&&(t[o]=t[o].replace(V,"")),t=d.concat(t),c=0;c<t.length;c+=1)if(p=t[c],"."===p)t.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((d||g)&&h){for(e=t.split("/"),c=e.length;c>0;c-=1){if(r=e.slice(0,c).join("/"),d)for(f=d.length;f>0;f-=1)if(i=h[d.slice(0,f).join("/")],i&&(i=i[r])){u=i,a=c;break}if(u)break;!s&&g&&g[r]&&(s=g[r],l=c)}!u&&s&&(u=s,a=l),u&&(e.splice(0,a,u),t=e.join("/"))}return t}function o(t,e){return function(){return d.apply(n,w.call(arguments,0).concat([t,e]))}}function a(t){return function(n){return u(n,t)}}function s(t){return function(n){v[t]=n}}function l(t){if(i(b,t)){var e=b[t];delete b[t],y[t]=!0,p.apply(n,e)}if(!i(v,t)&&!i(y,t))throw new Error("No "+t);return v[t]}function c(t){var n,e=t?t.indexOf("!"):-1;return e>-1&&(n=t.substring(0,e),t=t.substring(e+1,t.length)),[n,t]}function f(t){return function(){return m&&m.config&&m.config[t]||{}}}var p,d,h,g,v={},b={},m={},y={},_=Object.prototype.hasOwnProperty,w=[].slice,V=/\.js$/;h=function(t,n){var e,r=c(t),i=r[0];return t=r[1],i&&(i=u(i,n),e=l(i)),i?t=e&&e.normalize?e.normalize(t,a(n)):u(t,n):(t=u(t,n),r=c(t),i=r[0],t=r[1],i&&(e=l(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:e}},g={require:function(t){return o(t)},exports:function(t){var n=v[t];return"undefined"!=typeof n?n:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:f(t)}}},p=function(t,e,r,u){var a,c,f,p,d,m,_=[],w=typeof r;if(u=u||t,"undefined"===w||"function"===w){for(e=!e.length&&r.length?["require","exports","module"]:e,d=0;d<e.length;d+=1)if(p=h(e[d],u),c=p.f,"require"===c)_[d]=g.require(t);else if("exports"===c)_[d]=g.exports(t),m=!0;else if("module"===c)a=_[d]=g.module(t);else if(i(v,c)||i(b,c)||i(y,c))_[d]=l(c);else{if(!p.p)throw new Error(t+" missing "+c);p.p.load(p.n,o(u,!0),s(c),{}),_[d]=v[c]}f=r?r.apply(v[t],_):void 0,t&&(a&&a.exports!==n&&a.exports!==v[t]?v[t]=a.exports:f===n&&m||(v[t]=f))}else t&&(v[t]=r)},t=e=d=function(t,e,r,i,u){if("string"==typeof t)return g[t]?g[t](e):l(h(t,e).f);if(!t.splice){if(m=t,m.deps&&d(m.deps,m.callback),!e)return;e.splice?(t=e,e=r,r=null):t=n}return e=e||function(){},"function"==typeof r&&(r=i,i=u),i?p(n,t,e,r):setTimeout(function(){p(n,t,e,r)},4),d},d.config=function(t){return d(t)},t._defined=v,r=function(t,n,e){n.splice||(e=n,n=[]),i(v,t)||i(b,t)||(b[t]=[t,n,e])},r.amd={jQuery:!0}}(),r("almond",function(){}),r("Util",["require","exports","module"],function(){var t,n,e;return t=function(t){return"string"==typeof t&&"?"!==t.charAt(0)},n=function(t,n){for(var e=n(t[0]),r=1;r<t.length;r++)if(n(t[r])!==e)return r;return null},e=function(t,n){return t.slice(n).reverse().concat(t.slice(0,n))},{identity:function(t){return t},not:function(t){return!t},constantly:function(t){return function(){return t}},afterComplete:function(t,n){var e=t();e&&"function"==typeof e.always?e.always(n):n()},undefinedOrNull:function(t){return void 0===t||null===t},startsWith:function(t,n){return 0===t.indexOf(n)},toString:function(t){switch(t){case void 0:return"undefined";case null:return"null";default:return"string"==typeof t?'"'+t+'"':Array.isArray(t)?"["+t.join(", ")+"]":t.toString()}},equals:function(t,n){return t===n||t&&t.equals&&t.equals(n)},getPropertyValues:function(t){return Object.keys(t).map(function(n){return t[n]})},find:function(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(n(r,e,t))return r}return null},resolveArgs:function(r,i){var u={};if(arguments.length>1){var o,a,s,l=Array.isArray(i)?i:Array.prototype.slice.call(arguments,1);if(t(l[0])||!(s=n(l,t)))o=l,a=r;else{var c=Array.isArray(r)?r:Array.prototype.slice.call(r);o=e(l,s),a=e(c,c.length-(l.length-s))}for(var f=0,p=0;f<o.length&&p<a.length;f++){var d=o[f],h=a[p];if(t(d))u[d]=h,p++;else{var g="function"==typeof d?d(h):"?"!==d.charAt(0)?d:d.substring(1);(g||void 0===h)&&(u[g]=h,p++)}}}return u},canRepresentSubpath:function(t){var n=typeof t;return"string"===n||"number"===n||Array.isArray(t)},shallowMerge:function(t,n){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},papply:function(t,n,e){var r=this,i=function(n){var e=arguments.length>1?Array.prototype.slice.call(arguments,1):null;if(n){var u={};return i._props?(r.shallowMerge(i._props,u),r.shallowMerge(n,u)):u=n,t(u,e)}return t(i._props,e)};if(t._props){var u={};e!==!1?(r.shallowMerge(t._props,u),r.shallowMerge(n,u)):(r.shallowMerge(n,u),r.shallowMerge(t._props,u)),i._props=u}else i._props=n;return i}}}),r("Dyn",["require","exports","module"],function(){var t={},n={};return{onRegisterModule:function(n,e){t[n]=t[n]||[],t[n].push(e)},registerModule:function(e,r){n[e]=r,t[e]&&t[e].forEach(function(t){t(r)})}}}),r("util/Holder",["require","exports","module"],function(){var t=function(t){this._value=t};return t.prototype=Object.freeze({init:function(n){return new t(n)},getValue:function(){return this._value},setValue:function(t){this._value=t},updateValue:function(t){var n=this._value;return this._value=t(n),n}}),new t(null)}),r("Binding",["require","exports","module","./Dyn","./Util","./util/Holder"],function(t,n,e,r,i,u){var o;r.onRegisterModule("Immutable",function(t){o=t});var a,s,l;a=function(t,n,e){return new H(n,t._regCountHolder,e,t._listeners,t._listenerNestingLevelHolder)},s=function(t){return t._backingValueHolder.getValue()},l=function(t,n){t._backingValueHolder.setValue(n)};var c,f,p,d,h,g;c=[],f=".",p=function(t){return t?t.split(f):[]},d=function(t){return"string"==typeof t?p(t):i.undefinedOrNull(t)?[]:t},h=function(t){return"string"==typeof t?t:t.join(f)},g=function(t,n){return t.concat(n)};var v,b,m,y,_,w;v=function(){throw new Error("Path must point to a key")},b=function(t,n){return n.length>0?t.getIn(n):t},m=function(t,n,e){var r=g(t._path,e),i=n(s(t),r);return l(t,i),r},y=function(t,n,e){return m(t,function(t,e){var r=function(t,e){return t.has(e)?t.updateIn([e],n):t.set(e,n())},i=e.length;switch(i){case 0:v();break;case 1:return r(t,e[0]);default:var u=e.slice(0,i-1),o=e[i-1];return t.updateIn(u,function(t){return r(t,o)})}},e)},_=function(t,n){var e,r=g(t._path,n),i=s(t),u=r.length,a=r.slice(0,u-1),c=function(t,n){if(!(t instanceof o.Vector))return t.delete(n);switch(n){case 0:return t.shift();case t.length-1:return t.pop();default:return t.splice(n,1).toVector()}};switch(u){case 0:v();break;case 1:e=c(i,r[0]);break;default:var f=r[u-1];e=i.updateIn(a,function(t){return c(t,f)})}return l(t,e),a},w=function(t){return t.clear()};var V,A,S,k,x,I,M;V=function(t,n){t._listenerNestingLevelHolder.updateValue(function(t){return t+1}),n(t._listenerNestingLevelHolder.getValue()),t._listenerNestingLevelHolder.updateValue(function(t){return t-1})},A=function(t,n){return t.length===n.length?"":h(n.slice(t.length))},S=function(t,n,e,r,u){var o=d(n),a=d(e),s=b(r,o),l=b(u,o);s!==l&&i.getPropertyValues(t).forEach(function(t){t.disabled||t.cb(s,l,e,A(o,a))})},k=function(t,n,e,r,i){if(2>i){var u=t[""];u&&S(u,c,h(n),e,r)}},x=function(t,n){return i.startsWith(n,t)||i.startsWith(t,n)},I=function(t,n,e,r){var u=h(n);Object.keys(t).filter(i.identity).forEach(function(n){x(n,u)&&S(t[n],n,u,e,r)})},M=function(t,n,e){V(t,function(r){var i=s(t);I(t._listeners,n,i,e),k(t._listeners,n,i,e,r)})};var U,C;U=function(t,n){return i.find(i.getPropertyValues(t._listeners),function(t){return!!t[n]})},C=function(t,n,e){var r=U(t,n);r&&(r[n].disabled=e)};var H=function(t,n,e,r,i){this._backingValueHolder=t,this._regCountHolder=n||u.init(0),this._path=e||c,this._listeners=r||{},this._listenerNestingLevelHolder=i||u.init(0)};H.prototype=Object.freeze({init:function(t){return new H(u.init(t))},withBackingValue:function(t){return a(this,u.init(t),this._path)},setBackingValue:function(t,n){var e=s(this);this._backingValueHolder.setValue(t),n!==!1&&M(this,c,e)},val:function(t){return b(s(this),g(this._path,d(t)))},sub:function(t){return a(this,this._backingValueHolder,g(this._path,d(t)))},update:function(){var t=i.resolveArgs(arguments,"?subpath","update"),n=s(this),e=y(this,t.update,d(t.subpath));M(this,e,n)},set:function(){var t=i.resolveArgs(arguments,"?subpath","newValue");this.update(t.subpath,i.constantly(t.newValue))},"delete":function(t){var n=s(this),e=_(this,d(t));M(this,e,n)},clear:function(t){this.update(t,function(t){return w(t)})},addListener:function(t,n){var e="reg"+this._regCountHolder.updateValue(function(t){return t+1}),r=h(g(this._path,d(t))),i=this._listeners[r],u={cb:n,disabled:!1};if(i)i[e]=u;else{var o={};o[e]=u,this._listeners[r]=o}return e},addGlobalListener:function(t){return this.addListener(c,t)},enableListener:function(t){C(this,t,!1)},disableListener:function(t){C(this,t,!0)},withDisabledListener:function(t,n){var e=U(this,t);if(e){var r=e[t];r.disabled=!0,i.afterComplete(n,function(){r.disabled=!1})}else n()},removeListener:function(t){var n=U(this,t);return n?delete n[t]:!1},atomically:function(){return new q(this,[],[])},asArrayPath:function(t){return d(t)},asStringPath:function(t){return h(t)},isInstance:function(t){return t instanceof H}});var q=function(t,n,e){this._binding=t,this._updates=n,this._removals=e,this._committed=!1};return q.prototype=function(){var t,n,e,r,u;return t=function(t,n,e,r){var i=t._updates.slice(0);return i.push({binding:n,update:e,subpath:r}),i},n=function(t,n,e){var r=t._removals.slice(0);return r.push({binding:n,subpath:e}),r},e=function(t){return t._updates.length>0||t._removals.length>0},r=function(t){if(t.length<2)return t;for(var n=t.sort(),e=n[0],r=h(e),u=[e],o=1;o<n.length;o++){var a=n[o],s=h(a);i.startsWith(s,r)||(u.push(a),r=s)}return u},u=function(t){if(t._committed)throw new Error("Transaction already committed");var n=t._updates.map(function(t){return y(t.binding,t.update,t.subpath)}),e=t._removals.map(function(t){return _(t.binding,t.subpath)});return t._committed=!0,n.concat(e)},Object.freeze({update:function(){var n=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},"?binding","update"),e=n.binding||this._binding,r=t(this,e,n.update,d(n.subpath));return new q(e,r,this._removals)},set:function(){var t=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},"?binding","newValue");return this.update(t.subpath,t.binding,i.constantly(t.newValue))},"delete":function(){var t=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},"?binding"),e=t.binding||this._binding,r=n(this,e,d(t.subpath));return new q(e,this._updates,r)},clear:function(){var n=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},"?binding"),e=n.binding||this._binding,r=t(this,e,function(t){return w(t)},d(n.subpath));return new q(e,r,this._removals)},commit:function(t){if(e(this)){var n=this._binding,i=s(n),o=u(this),a=s(n);if(t!==!1){if(a!==i){var l=r(o);return V(n,function(t){var e=n._listeners;l.forEach(function(t){I(e,t,a,i)}),k(e,l[0],a,i,t)}.bind(n)),o}return[]}return o}return[]}})}(),new H(u.init(null))}),r("History",["require","exports","module","./Dyn"],function(t,n,e,r){var i;r.onRegisterModule("Immutable",function(t){i=t});var u,o,a,s,l,c;return u=function(t){t.set(i.Map({listenerId:null,undo:i.Vector.empty(),redo:i.Vector.empty()}))},o=function(t){t.atomically().set("undo",i.Vector.empty()).set("redo",i.Vector.empty()).commit()},a=function(t){var n=t.val("listenerId");t.removeListener(n),t.set(null)},s=function(t,n){var e=t.addListener([],function(e,r,u,o){n.atomically().update(function(n){return n.updateIn(["undo"],function(n){var u=t.asArrayPath(o);return n.unshift(i.Map({newValue:u.length?e.getIn(u):e,oldValue:u.length?r.getIn(u):r,path:o}))}).set("redo",i.Vector.empty())}).commit(!1)});n.atomically().set("listenerId",e).commit(!1)},l=function(t,n,e,r){r.withDisabledListener(e,function(){r.set(t,n)})},c=function(t,n,e,r,i){var u=n.val();if(u.length>0){var o=u.get(0);return n.atomically().delete(0).update(e,function(t){return t.unshift(o)}).commit(!1),l(o.get("path"),o.get(i),r,t),!0}return!1},{init:function(t,n){u(n),s(t,n)},clear:function(t){o(t)},destroy:function(t){a(t)},hasUndo:function(t){var n=t.val("undo");return!!n&&n.length>0},hasRedo:function(t){var n=t.val("redo");return!!n&&n.length>0},undo:function(t,n){var e=n.val("listenerId"),r=n.sub("undo"),i=n.sub("redo");return c(t,r,i,e,"oldValue")},redo:function(t,n){var e=n.val("listenerId"),r=n.sub("undo"),i=n.sub("redo");return c(t,i,r,e,"newValue")}}}),r("util/Callback",["require","exports","module","../Util"],function(t,n,e,r){return{set:function(t){var n=r.resolveArgs(arguments,"binding",function(t){return r.canRepresentSubpath(t)?"subpath":null},"?f");return function(e){var r=e.target.value;return t.set(n.subpath,n.f?n.f(r):r),!1}},"delete":function(t){var n=r.resolveArgs(arguments,"binding",function(t){return r.canRepresentSubpath(t)?"subpath":null},"?pred");return function(e){var r=e.target.value;return(!n.pred||n.pred(r))&&t.delete(n.subpath),!1}},onKey:function(t,n,e,r){return function(i){return i.charCode===n&&i.shiftKey===e&&i.ctrlKey===r?(t(i),!1):!0}},onEnter:function(t){return this.onKey(t,13,!1,!1)},onEscape:function(t){return this.onKey(t,27,!1,!1)}}}),r("Morearty",["require","exports","module","./Dyn","./Util","./Binding","./History","./util/Callback"],function(t,e,r,i,u,o,a,s){var l=function(t,n,e,r){this.React=t,this.Immutable=n,this.Imm=n,this._initialState=e,this._previousState=null,this._currentStateBinding=o.init(e),this._configuration=r,this._fullUpdateQueued=!1,this._fullUpdateInProgress=!1};return l.prototype=function(){var t,e,r;return t=function(t,n,e){var r=n.props[t._configuration.statePropertyName];return e?r[e]:r},e=function(t,n){var e=t.val(),r=n?t.withBackingValue(n).val():null;return e!==r},r=function(t,n){var r=t._previousState;if(o.isInstance(n))return e(n,r);var i=u.getPropertyValues(n);return!!u.find(i,function(t){return e(t,r)})},Object.freeze({Util:u,Binding:o,History:a,Callback:s,state:function(){return this._currentStateBinding},currentState:function(){return this.state().val()},previousState:function(){return this._previousState},resetState:function(t){this._currentStateBinding.setBackingValue(this._initialState,t)},changed:function(){var t=u.resolveArgs(arguments,"binding",function(t){return u.canRepresentSubpath(t)?"subpath":null},"?compare"),n=t.binding.val(t.subpath),e=t.binding.withBackingValue(this._previousState).val(t.subpath);return t.compare?!t.compare(n,e):n!==e},init:function(t){var e=this,r=e._configuration.requestAnimationFrameEnabled,i=n&&n.requestAnimationFrame,u=function(n,r){e._previousState=r,e._fullUpdateQueued?(e._fullUpdateInProgress=!0,t.forceUpdate(function(){e._fullUpdateQueued=!1,e._fullUpdateInProgress=!1})):t.forceUpdate()};e._currentStateBinding.addGlobalListener(function(t,n){r&&i?i(u.bind(e,t,n),null):u(t,n)})},createClass:function(n){var e=this,i=function(){if(e._fullUpdateInProgress)return!0;var n=t(e,this);return!n||r(e,n)};return n.shouldComponentUpdate||(n.shouldComponentUpdate=i),n.shouldComponentUpdateSuper=i,n.getState=function(n){return t(e,this,n)},n.getPreviousState=function(n){return t(e,this,n).withBackingValue(e._previousState).val()},e.React.createClass(n)},queueFullUpdate:function(){this._fullUpdateQueued=!0}})}(),{createContext:function(t,n,e,r){i.registerModule("Immutable",n);var u=n.Map,o=e instanceof u?e:n.fromJS(e),a=r||{};return new l(t,n,o,{statePropertyName:a.statePropertyName||"state",requestAnimationFrameEnabled:a.requestAnimationFrameEnabled||!1})}}}),r("Main",["require","exports","module","./Util","./Binding","./History","./util/Callback","./Morearty"],function(t,e,r){var i=function(t){return{Util:t("./Util"),Binding:t("./Binding"),History:t("./History"),Callback:t("./util/Callback"),createContext:t("./Morearty").createContext}}.call(this,t,e,r),u=n.Morearty;return n.Morearty=i,i.noConflict=function(){return n.Morearty=u,i},i}),e("Main")};return e?define(i):r?module.exports=i():i()}).call(this,"object"==typeof exports?global:window,"object"==typeof exports?global:window);